!function(e){"use strict";function n(n,t,r){var o=this;o.path=n,o.callback=t,o.onComplete=o._onComplete.bind(o);var a=r?{path:n,isDune:!0}:o.parsePath(n);o.isDune=a.isDune;var s=o.xhr=new e.XMLHttpRequest;s.addEventListener("load",o.onComplete,!1);try{s.open("GET",a.path,!!t),s.send()}catch(l){o.release()}}function t(e,n){return e(r,n),r.__source__[n]=null,!0}var r={};r.__source__={};var o=r.modules={};r.initConfig=function(e,t,o){r.baseUrl||(t?new n(e,o,!0):(r.baseUrl=e,o&&o()))},r.require=function(e,a){if(e&&"string"==typeof e){var s=r.__source__[e];if(!a||"function"!=typeof a)return o[e]||s&&t(s,e)?o[e]:(new n(e),o[e]);o[e]||s&&t(s,e)?setTimeout(function(e){e.callback(e.module)},0,{callback:a,module:o[e]}):new n(e,a)}},n.prototype._onComplete=function(){var e=this,n=e.path,t=e.isDune,a=e.callback,s=e.xhr.status,l=e.xhr.responseText;if(e.release(),200===s||204===s||0===s&&l.length>0)if(t)new Function("SandJs",l)(r),a&&a(o[n]);else{var u={exports:{}};new Function("require","exports","module",l)(r.require,u.exports,u),o[n]=u.exports,a&&a(u.exports)}else console.error("error["+s+"]:"+n)},n.prototype.release=function(){var e=this;e.xhr.removeEventListener("load",e.onComplete),e.onComplete=null,e.callback=null,e.isDune=null,e.path=null,e.xhr=null},n.prototype.parsePath=function(e){if(r.modulePaths)for(var n=r.modulePaths,t=n.length-1;t>=0;t--){var o=n[t];if(o.indexOf(e)>-1){var a=r.duneUrl+"dune"+t+".js";return{path:a,isDune:!0}}}return{path:r.baseUrl+e,isDune:!1}};var a;void 0!=e.SandJs&&(a=e.SandJs),e.SandJs=r,r.noConflict=function(){return e.SandJs=a,r}}(this);